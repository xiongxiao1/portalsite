<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="keywords" content="jquery,ui,easy,easyui,web">
	<meta name="description" content="easyui help you build your web page easily!">
	<title>jQuery EasyUI Demo</title>
	<link rel="stylesheet" type="text/css" th:href="@{/js/easyui/themes/default/easyui.css}">
	<link rel="stylesheet" type="text/css" th:href="@{/js/easyui/themes/icon.css}">
	<script type="text/javascript" th:src="@{/js/easyui/jquery.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/easyui/jquery.easyui.min.js}"></script>
	<script type="text/javascript" th:src="@{/js/easyui/plugins/jquery.combotree.js}"></script>
	<script type="text/javascript" th:src="@{/js/easyui/plugins/jquery.tabs.js}"></script>
	<script type="text/javascript" th:src="@{/js/easyui/plugins/jquery.datagrid.js}"></script>
	<script type="text/javascript">
		/*function showcontent(language){
			$('#content').html('Introduction to ' + language + ' language');
		}*/
		/*$(function(){
			showcontent('java');
		});*/
	</script>
</head>
<body>
	<div class="easyui-layout" style="width:100%;height:700px;">
		<div id="top" region="north" title="网站管理平台" style="height:160px; width: 98%">
		</div>
		<div region="west" split="true" title="导航" style="width:20%;">
			<!--菜单-->
			<ul id="itemtree"></ul>
		</div>
		<div id="content" region="center" style="padding:5px; width: 78%;height: 70% ">
			<!--内容tab-->
			<div id="contentTabs" class="easyui-tabs" style="width: 100%; height: auto">
			</div>
		</div>
	</div>
</body>
<script type="application/javascript" th:inline="javascript">
    var context = [[@{/}]];
	//alert(context);
	var tabs = new Array();
    var tablesItem   = ['menuItem'];
    $(document).ready(function(){
        //初始化树节点
        $('#itemtree').tree({
            url:'http://localhost:8080/getAllItem',
            formatter:function(node){
                return node.title;
            },
            onClick: function(node){
                opentab(node,tablesItem[0]);
            }
        });
    });

    //根据根节点打开右侧内容窗口
    var opentab = function(node,type){

        var url =  "http://localhost:8080/admin/itemPage.html"+"?type="+type;
        var content = '<iframe frameborder="0"  src="'+url+'" style="width:100%;height: 600px;"></iframe>';

        $('#contentTabs').tabs('add',{
			title:node.title,
			content: content,
			closable:true,
			tools:[{
				iconCls:'icon-mini-refresh',
				handler:function(){
					alert('refresh');
				}
			}]
		});
    }
   </script>
</html>